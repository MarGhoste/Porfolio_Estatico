<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detalle del Proyecto | Sistema de Reservas Barbería</title>
    <link rel="icon" type="image/png" href="img/backend.png" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
  </head>
  <body class="bg-gray-900 min-h-screen font-sans">
    <div class="container mx-auto px-4 py-16 text-white bg-gray-900">
      <div class="mb-10 border-b border-gray-700 pb-4">
        <a
          href="index.html"
          class="inline-flex items-center px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-200 text-sm font-medium rounded-md transition-colors duration-200 mb-6"
        >
          <svg
            class="w-5 h-5 mr-2"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M10 19l-7-7m0 0l7-7m-7 7h18"
            ></path>
          </svg>
          Volver al Portafolio
        </a>
        <h1
          class="text-5xl font-extrabold text-white text-center leading-tight"
        >
          Reservas — Sistema de Gestión para Barbería
        </h1>
        <p class="text-gray-400 mt-4 text-lg text-center max-w-3xl mx-auto">
          Plataforma de alto rendimiento construida con
          <strong>Laravel 12 e Inertia.js</strong>. Optimiza la agenda de los
          barberos y permite a los clientes reservar servicios mediante una
          interfaz fluida en React.
        </p>
      </div>

      <!-- VIDEO DEMOSTRATIVO -->
      <div class="mt-8 pt-4 border-t border-gray-700">
        <h2
          class="text-3xl font-bold text-white mb-6 flex items-center gap-3 border-b-2 border-teal-400 pb-2 w-fit"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-8 w-8 text-teal-400"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"
            ></path>
          </svg>
          Demo en Acción
        </h2>
        <div class="max-w-4xl mx-auto">
          <video
            controls
            preload="metadata"
            playsinline
            class="w-full rounded-xl shadow-2xl border border-gray-700"
            poster="img/proyecto3/Reserva01.jpg"
          >
            <source src="video/SistemaReservas.mp4" type="video/mp4" />
            Tu navegador no soporta la etiqueta de video.
          </video>
        </div>
      </div>

      <br />

      <div
        class="flex flex-wrap justify-between items-start mb-12 border-b border-gray-800 pb-6"
      >
        <div class="mb-6 md:mb-0">
          <h3 class="text-lg font-semibold text-gray-400 mb-2">
            Tecnologías Core:
          </h3>
          <div class="flex flex-wrap gap-2">
            <span
              class="bg-red-600 text-white text-sm font-semibold px-4 py-1 rounded-full shadow-md"
              >Laravel 12</span
            >
            <span
              class="bg-pink-600 text-white text-sm font-semibold px-4 py-1 rounded-full shadow-md"
              >Inertia.js</span
            >
            <span
              class="bg-blue-500 text-white text-sm font-semibold px-4 py-1 rounded-full shadow-md"
              >React 18</span
            >
            <span
              class="bg-orange-500 text-white text-sm font-semibold px-4 py-1 rounded-full shadow-md"
              >Filament PHP</span
            >
            <span
              class="bg-cyan-600 text-white text-sm font-semibold px-4 py-1 rounded-full shadow-md"
              >Tailwind CSS</span
            >
            <span
              class="bg-indigo-600 text-white text-sm font-semibold px-4 py-1 rounded-full shadow-md"
              >MySQL</span
            >
          </div>
        </div>

        <div class="flex gap-4">
          <a
            href="https://github.com/MarGhoste/Reservas"
            target="_blank"
            class="bg-teal-600 hover:bg-teal-500 text-white font-bold py-3 px-6 rounded-lg transition duration-300 shadow-lg hover:shadow-teal-500/50 transform hover:-translate-y-1 flex items-center"
          >
            <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 24 24">
              <path
                d="M12 0c-6.626 0-12 5.373-12 12s5.373 12 12 12c5.302 0 9.729-3.914 11-9h-2c-1.161 3.42-4.067 6-8 6-4.962 0-9-4.038-9-9s4.038-9 9-9c3.931 0 6.837 2.58 8 6h2c-1.271-5.086-5.698-9-11-9z"
              />
            </svg>
            Repositorio GitHub
          </a>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
        <div
          class="lg:col-span-2 bg-gray-800 p-8 rounded-xl shadow-inner border border-gray-700 transition duration-300 hover:border-teal-500/50"
        >
          <h2
            class="text-3xl font-bold text-white mb-6 flex items-center gap-3"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-8 w-8 text-teal-400"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
              />
            </svg>
            Resumen del Proyecto
          </h2>
          <div class="text-gray-300 space-y-4 leading-relaxed">
            <p>
              Este sistema automatiza el proceso de citas para negocios de
              barbería. Los clientes pueden explorar un catálogo de servicios,
              elegir a su barbero de preferencia, reservar su cita y ver
              únicamente los horarios disponibles calculados en tiempo real
              según la duración de cada servicio.
            </p>
            <p>
              Para la administración, implementé un panel con
              <strong>Filament PHP</strong> que permite gestionar el inventario
              de servicios, configurar los horarios de trabajo de cada empleado
              y bloquear días de ausencia de forma intuitiva.
            </p>
            <ul class="list-disc list-inside space-y-2 text-teal-300">
              <li>Gestión de roles y permisos con Spatie.</li>
              <li>Interfaz SPA fluida gracias a Inertia + React.</li>
              <li>Sistema de indisponibilidades para barberos.</li>
              <li>Notificaciones y validaciones de solapamiento de citas.</li>
            </ul>
          </div>
        </div>

        <div
          class="lg:col-span-1 bg-gray-800 p-8 rounded-xl shadow-inner border border-gray-700 h-fit transition duration-300 hover:border-teal-500/50"
        >
          <h3 class="text-xl font-semibold text-teal-400 mb-3">
            Retos Técnicos:
          </h3>
          <p class="text-gray-400 leading-relaxed mb-6">
            Este método es el corazón de la gestión de tiempo del profesional.
            Apliqué un enfoque de 'Defensive Programming' (Programación
            Defensiva) donde primero validamos el formato, luego verificamos la
            lógica de negocio (no duplicados) y finalmente persistimos el dato.
            Esto garantiza que el motor de reservas siempre trabaje sobre una
            base de datos limpia y veraz.
          </p>

          <h3 class="text-xl font-semibold text-teal-400 mb-3">
            Lógica de Backend:
          </h3>
          <pre
            class="bg-gray-900 p-4 rounded-lg overflow-x-auto text-sm text-green-300 border border-gray-700"
          ><code>
 public function storeDisponibilidad(Request $request)
    {
        $barberId = auth()->id();

        $validated = $request->validate([
            // La fecha debe ser hoy o en el futuro
            'fecha' => ['required', 'date', 'after_or_equal:today'],
            'motivo' => ['required', 'string', 'max:255'],
        ]);

        // Prevención de duplicados para el mismo día
        $exists = Disponibilidad::where('barbero_id', $barberId)
            ->where('fecha', $validated['fecha'])
            ->exists();

        if ($exists) {
            return back()->withErrors(['fecha' => 'Ya existe una indisponibilidad registrada para este día.']);
        }

        Disponibilidad::create([
            'barbero_id' => $barberId,
            'fecha' => $validated['fecha'],
            'motivo' => $validated['motivo'],
        ]);

        return redirect()->route('barbero.disponibilidad')
            ->with('success', 'Día no disponible registrado exitosamente.');
    }
          </code></pre>
        </div>
      </div>

      <!-- GALERÍA -->
      <div class="mt-16 pt-8 border-t border-gray-700">
        <h2
          class="text-3xl font-bold text-white mb-8 text-center flex items-center justify-center gap-3"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-8 w-8 text-teal-400"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"
            />
          </svg>
          Galería de Capturas
        </h2>

        <div
          id="gallery-carousel"
          class="relative w-full max-w-4xl mx-auto"
          x-data="{ 
            currentIndex: 0, 
            totalSlides: 16,
            next() { this.currentIndex = (this.currentIndex + 1) % this.totalSlides },
            prev() { this.currentIndex = (this.currentIndex - 1 + this.totalSlides) % this.totalSlides }
        }"
        >
          <div
            class="overflow-hidden rounded-xl shadow-2xl relative border-4 border-gray-700"
          >
            <div
              class="flex transition-transform duration-500 ease-in-out"
              :style="`transform: translateX(-${currentIndex * 100}%)`"
            >
              <!-- Renderizar imágenes -->
              <template x-for="i in totalSlides" :key="i">
                <div class="w-full flex-shrink-0">
                  <img
                    :src="`img/proyecto3/Reserva${i.toString().padStart(2, '0')}.jpg`"
                    class="w-full h-auto object-contain max-h-[60vh] bg-gray-900"
                    :alt="`Slide ${i}`"
                  />
                </div>
              </template>
            </div>
          </div>

          <!-- Controles -->
          <button
            @click="prev()"
            class="absolute top-1/2 left-4 -translate-y-1/2 p-3 bg-black/60 hover:bg-teal-500 rounded-full text-white transition-all"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M15 19l-7-7 7-7"
              />
            </svg>
          </button>
          <button
            @click="next()"
            class="absolute top-1/2 right-4 -translate-y-1/2 p-3 bg-black/60 hover:bg-teal-500 rounded-full text-white transition-all"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5l7 7-7 7"
              />
            </svg>
          </button>

          <!-- Indicadores -->
          <div class="mt-4 flex justify-center gap-2 overflow-x-auto py-2">
            <template x-for="i in totalSlides" :key="i">
              <button
                @click="currentIndex = i-1"
                :class="currentIndex === i-1 ? 'bg-teal-400 w-6' : 'bg-gray-600 w-2'"
                class="h-2 rounded-full transition-all duration-300"
              ></button>
            </template>
          </div>
        </div>
      </div>
    </div>

    <!-- Navegación Fija -->
    <a
      href="proyecto2.html"
      class="fixed bottom-8 left-8 bg-gray-800 hover:bg-teal-600 text-white font-bold py-3 px-6 rounded-full shadow-2xl transition duration-300 transform hover:-translate-y-1 z-50 flex items-center gap-2 border border-gray-700"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M11 17l-5-5m0 0l5-5m-5 5h12"
        />
      </svg>
      Anterior
    </a>
    <a
      href="proyecto4.html"
      class="fixed bottom-8 right-8 bg-teal-600 hover:bg-teal-500 text-white font-bold py-3 px-6 rounded-full shadow-2xl transition duration-300 transform hover:-translate-y-1 z-50 flex items-center gap-2 border border-teal-400/30"
    >
      Siguiente
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-5 w-5"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M13 7l5 5m0 0l-5 5m5-5H6"
        />
      </svg>
    </a>
  </body>
</html>
